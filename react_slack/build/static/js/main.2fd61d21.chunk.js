(this.webpackJsonpreact_slack=this.webpackJsonpreact_slack||[]).push([[0],{188:function(e,n,t){},207:function(e,n,t){},211:function(e,n,t){"use strict";t.r(n);var a=t(4),c=t(0),r=t.n(c),s=t(56),i=t.n(s),o=(t(188),t(231)),l=t(80),u=t(236),d=t(237),j=t(230),h=t(172),f=t(32),b=t(143);t(193),t(194),t(195);b.a.initializeApp({apiKey:"AIzaSyDMMppYBvwaeI0US-aMle9r979XqjXzToc",authDomain:"react-slack-e5339.firebaseapp.com",databaseURL:"https://react-slack-e5339.firebaseio.com",projectId:"react-slack-e5339",storageBucket:"react-slack-e5339.appspot.com",messagingSenderId:"891002544306",appId:"1:891002544306:web:ea5b6ba6ac845df2b829ab",measurementId:"G-GFTYJ8XR1D"}),b.a.analytics();var O=b.a,m=(t(58),Object(f.b)((function(e){return{user:e.user.currentUser}}))((function(e){var n=function(){O.auth().signOut().then((function(){return console.log("user signed out")}))};return e.user?Object(a.jsx)(u.a,{children:Object(a.jsx)(u.a.Column,{children:Object(a.jsxs)(u.a.Row,{className:"userinfo_grid_row",children:[Object(a.jsxs)(d.a,{inverted:!0,as:"h2",children:[Object(a.jsx)(l.a,{name:"slack"}),Object(a.jsx)(d.a.Content,{children:"Slack"})]}),Object(a.jsx)(d.a,{className:"userinfo_displayname",inverted:!0,as:"h4",children:Object(a.jsx)(j.a,{trigger:Object(a.jsxs)("span",{children:[Object(a.jsx)(h.a,{src:e.user.photoURL,avatar:!0}),e.user.displayName]}),options:[{key:"user",text:Object(a.jsxs)("span",{children:["Signed in as ",Object(a.jsx)("strong",{children:e.user.displayName})]}),disabled:!0},{key:"avatar",text:Object(a.jsxs)("span",{children:[Object(a.jsx)(l.a,{name:"edit"}),"Change Avatar"]})},{key:"signout",text:Object(a.jsx)("span",{onClick:n,children:"Sign Out"})}]})})]})})}):null}))),p=t(33),g=t(54),v=t(13),x=t(234),C=t(232),y=t(240),S=t(212),w="SET_USER",k="SET_CHANNEL",N="SET_FAVOURITECHANNEL",I="REMOVE_FAVOURITECHANNEL",P=function(e){return{type:k,payload:{currentChannel:e}}},E=t(108),U=function(e){var n=O.database().ref("messages"),t=O.database().ref("users"),r=Object(c.useState)({}),s=Object(v.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)({}),u=Object(v.a)(l,2),d=u[0],j=u[1];Object(c.useEffect)((function(){e.user&&(t.child(e.user.uid).child("lastvisited").on("value",(function(e){o(e.val())})),n.on("value",(function(e){var n=e.val(),t=null===Object||void 0===Object?void 0:Object.keys(n),a={};t.forEach((function(e){Object.keys(n[e]).reduce((function(t){var c;a[e]=Object(g.a)(a[e]||[]),a[e].push(null===(c=n[e][t])||void 0===c?void 0:c.timestamp)}))})),j(a)})))}),[e.user]);return Object(a.jsxs)(a.Fragment,{children:["  ",e.displayName," ",function(n){if(i&&d&&e.channel&&e.channel.id!==n){var t=i[n],c=d[n];if(c){var r=c.filter((function(e){return!t||t<e})).length;return 0===r?null:Object(a.jsx)(E.a,{color:"red",children:r})}}return null}(e.notificationChannelId)," "]})},_=Object(f.b)((function(e){return{user:e.user.currentUser,channel:e.channel.currentChannel}}),(function(e){return{selectChannel:function(n){return e(P(n))}}}))((function(e){var n=Object(c.useState)(!1),t=Object(v.a)(n,2),r=t[0],s=t[1],i=Object(c.useState)({Name:"",Desc:""}),u=Object(v.a)(i,2),d=u[0],j=u[1],h=Object(c.useState)(!1),f=Object(v.a)(h,2),b=f[0],m=f[1],w=Object(c.useState)([]),k=Object(v.a)(w,2),N=k[0],I=k[1],P=O.database().ref("channels"),E=O.database().ref("users");Object(c.useEffect)((function(){return P.on("child_added",(function(e){I((function(n){var t=Object(g.a)(n);return t.push(e.val()),t}))})),function(){return P.off()}}),[]),Object(c.useEffect)((function(){N.length>0&&e.selectChannel(N[0])}),[e.channel?null:N]);var _=function(){s(!1)},A=function(n){M(e.user,e.channel),M(e.user,n),e.selectChannel(n)},M=function(e,n){var t=E.child(e.uid).child("lastvisited").child(n.id);t.set(O.database.ServerValue.TIMESTAMP),t.onDisconnect().set(O.database.ServerValue.TIMESTAMP)},T=function(){if(d&&d.Name&&d.Desc){var n=P.push().key,t={id:n,name:d.Name,desc:d.Desc,created_by:{name:e.user.displayName,avatar:e.user.photoURL}};m(!0),P.child(n).update(t).then((function(){j({Name:"",Desc:""}),m(!1),_(),console.log("saved")})).catch((function(e){console.log(e)}))}},R=function(e){var n=e.target;j((function(e){var t=Object(p.a)({},e);return t[n.name]=n.value,t}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(o.a.Menu,{style:{marginTop:"35px"},children:[Object(a.jsxs)(o.a.Item,{style:{fontSize:"17px"},children:[Object(a.jsxs)("span",{children:[Object(a.jsx)(l.a,{name:"exchange"}),"Channels"]}),"(",N.length,")",Object(a.jsx)("span",{style:{marginLeft:"20px"},onClick:function(){s(!0)},children:Object(a.jsx)(l.a,{name:"add circle"})})]}),function(){if(N.length>0)return N.map((function(n){return Object(a.jsx)(o.a.Item,{name:n.name,onClick:function(){A(n)},active:e.channel&&n.id===e.channel.id&&!e.channel.isFav,children:Object(a.jsx)(U,{user:e.user,channel:e.channel,notificationChannelId:n.id,displayName:"# "+n.name})},n.id)}))}()]}),Object(a.jsxs)(x.a,{open:r,onClose:_,children:[Object(a.jsx)(x.a.Header,{children:"Create Channel"}),Object(a.jsx)(x.a.Content,{children:Object(a.jsx)(C.a,{onSubmit:T,children:Object(a.jsxs)(y.a,{stacked:!0,children:[Object(a.jsx)(C.a.Input,{name:"Name",value:d.Name,onChange:R,type:"text",placeholder:"Enter Channel Name"}),Object(a.jsx)(C.a.Input,{name:"Desc",value:d.Desc,onChange:R,type:"text",placeholder:"Enter Channel Description"})]})})}),Object(a.jsxs)(x.a.Actions,{children:[Object(a.jsxs)(S.a,{loading:b,onClick:T,children:[Object(a.jsx)(l.a,{name:"checkmark"})," Save"]}),Object(a.jsxs)(S.a,{onClick:_,children:[Object(a.jsx)(l.a,{name:"remove"})," Cancel"]})]})]})]})})),A=Object(f.b)((function(e){return{user:e.user.currentUser,channel:e.channel.currentChannel}}),(function(e){return{selectChannel:function(n){return e(P(n))}}}))((function(e){var n=Object(c.useState)([]),t=Object(v.a)(n,2),r=t[0],s=t[1],i=Object(c.useState)([]),u=Object(v.a)(i,2),d=u[0],j=u[1],h=O.database().ref("users"),f=O.database().ref(".info/connected"),b=O.database().ref("status");Object(c.useEffect)((function(){return h.on("child_added",(function(e){s((function(n){var t=Object(g.a)(n),a=e.val();return a.name=a.displayName,a.id=e.key,a.isPrivatechat=!0,t.push(a),t}))})),f.on("value",(function(n){if(e.user&&n.val()){var t=b.child(e.user.uid);t.set(!0),t.onDisconnect().remove()}})),function(){h.off(),f.off()}}),[e.user]),Object(c.useEffect)((function(){return b.on("child_added",(function(e){j((function(n){var t=Object(g.a)(n);return t.push(e.key),t}))})),b.on("child_removed",(function(e){j((function(n){var t=Object(g.a)(n),a=t.indexOf(e.key);return t.splice(a,1),t}))})),function(){return b.off()}}),[r]);var m=function(n){var t=Object(p.a)({},n);t.id=C(n.id),x(e.user,e.channel),x(e.user,t),e.selectChannel(t)},x=function(e,n){var t=h.child(null===e||void 0===e?void 0:e.uid).child("lastvisited").child(n.id);t.set(O.database.ServerValue.TIMESTAMP),t.onDisconnect().set(O.database.ServerValue.TIMESTAMP)},C=function(n){var t,a,c;return(null===(t=e.user)||void 0===t?void 0:t.uid)<n?(null===(a=e.user)||void 0===a?void 0:a.uid)+n:n+(null===(c=e.user)||void 0===c?void 0:c.uid)};return Object(a.jsxs)(o.a.Menu,{style:{marginTop:"35px"},children:[Object(a.jsxs)(o.a.Item,{style:{fontSize:"17px"},children:[Object(a.jsxs)("span",{children:[Object(a.jsx)(l.a,{name:"mail"}),"Direct Messages"]}),"(",r.length-1,")"]}),function(){if(r.length>0)return r.filter((function(n){var t;return n.id!==(null===(t=e.user)||void 0===t?void 0:t.uid)})).map((function(n){return Object(a.jsxs)(o.a.Item,{name:n.name,onClick:function(){m(n)},active:e.channel&&C(n.id)===e.channel.id,children:[Object(a.jsx)(l.a,{name:"circle",color:"".concat(-1!==d.indexOf(n.id)?"green":"red")}),Object(a.jsx)(U,{user:e.user,channel:e.channel,notificationChannelId:C(n.id),displayName:"@ "+n.name})]},n.id)}))}()]})})),M=Object(f.b)((function(e){return{channel:e.channel.currentChannel,favouriteChannels:e.favouriteChannel.favouriteChannel}}),(function(e){return{selectChannel:function(n){return e(P(n))}}}))((function(e){return Object(a.jsxs)(o.a.Menu,{children:[Object(a.jsxs)(o.a.Item,{style:{fontSize:"17px"},children:[Object(a.jsxs)("span",{children:[Object(a.jsx)(l.a,{name:"star"}),"Starred"]}),"(",Object.keys(e.favouriteChannels).length,")"]}),function(){if(Object.keys(e.favouriteChannels).length>0)return Object.keys(e.favouriteChannels).map((function(n){return Object(a.jsx)(o.a.Item,{name:e.favouriteChannels[n],onClick:function(){e.selectChannel({id:n,name:e.favouriteChannels[n],isFav:!0})},active:e.channel&&n===e.channel.id&&e.channel.isFav,children:"# "+e.favouriteChannels[n]},n)}))}()]})})),T=function(){return Object(a.jsxs)(o.a,{vertical:!0,fixed:"left",borderless:!0,size:"large",className:"side_bar",children:[Object(a.jsx)(m,{}),Object(a.jsx)(M,{}),Object(a.jsx)(_,{}),Object(a.jsx)(A,{})]})},R=t(233),D=t(227),L=function(e){return Object(a.jsxs)(y.a,{clearing:!0,children:[Object(a.jsxs)(d.a,{floated:"left",fluid:"true",as:"h2",children:[Object(a.jsxs)("span",{children:[(e.isPrivatechat?"@ ":"# ")+e.channelName,!e.isPrivatechat&&Object(a.jsx)(l.a,{onClick:e.starChange,name:e.starred?"star":"star outline",color:e.starred?"yellow":"black"})]}),Object(a.jsxs)(d.a.Subheader,{children:[Object(a.jsx)(l.a,{name:"user outline"}),e.uniqueUser," | ",e.channelDesc]})]}),Object(a.jsx)(d.a,{floated:"right",children:Object(a.jsx)(D.a,{name:"search",icon:"search",placeholder:"Search Messages",size:"mini",onChange:e.searchChange})})]})},F=t(229),z=t(168);F.a.locale(z);var V=new F.a,W=function(e){return Object(a.jsxs)(R.a,{children:[Object(a.jsx)(R.a.Avatar,{src:e.message.user.avatar}),Object(a.jsxs)(R.a.Content,{style:{fontSize:"15px"},className:e.ownMessage?"ownMessage":null,children:[Object(a.jsx)(R.a.Author,{children:e.message.user.name}),Object(a.jsx)(R.a.Metadata,{children:V.format(e.message.timestamp)}),e.message.image?Object(a.jsx)(h.a,{onLoad:e.imgLoaded,src:e.message.image,style:{width:"60%"}}):Object(a.jsx)(R.a.Text,{children:e.message.content})]})]})},B=t(151),H=t.n(B),q=function(e){var n=Object(c.useState)(null),t=Object(v.a)(n,2),r=t[0],s=t[1],i=["image/png","image/jpeg"];return Object(a.jsxs)(x.a,{basic:!0,open:e.open,onClose:e.onClose,children:[Object(a.jsx)(x.a.Header,{children:"Select a Image"}),Object(a.jsx)(x.a.Content,{children:Object(a.jsx)(D.a,{fluid:!0,type:"file",name:"file",onChange:function(e){var n=e.target.files[0];n&&s(n)},label:"File Type (png , jpeg)"})}),Object(a.jsxs)(x.a.Actions,{children:[Object(a.jsxs)(S.a,{color:"green",onClick:function(){r&&i.includes(H.a.lookup(r.name))&&(e.uploadImage(r,H.a.lookup(r.name)),e.onClose(),s(null))},children:[Object(a.jsx)(l.a,{name:"checkmark"}),"ADD"]}),Object(a.jsxs)(S.a,{color:"red",onClick:e.onClose,children:[Object(a.jsx)(l.a,{name:"remove"}),"Cancel"]})]})]})},G=t(169),J=t.n(G),K=(t(201),t(171)),X=Object(f.b)((function(e){return{user:e.user.currentUser,channel:e.channel.currentChannel}}))((function(e){var n=O.database().ref("messages"),t=O.storage().ref(),r=Object(c.useState)(""),s=Object(v.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(!1),u=Object(v.a)(l,2),d=u[0],j=u[1],h=Object(c.useState)(!1),f=Object(v.a)(h,2),b=f[0],m=f[1],p=function(t){(i||t)&&n.child(e.channel.id).push().set(function(n){return{user:{avatar:e.user.photoURL,name:e.user.displayName,id:e.user.uid},content:i,image:n||"",timestamp:O.database.ServerValue.TIMESTAMP}}(t)).then((function(){o(""),console.log("sent")})).catch((function(e){console.log(e)}))},g=function(e){if(console.log(e.key),"Enter"===e.key)return p()};return Object(a.jsxs)(y.a,{children:[Object(a.jsx)(D.a,{onChange:function(e){var n=e.target;o(n.value)},onKeyPress:g,name:"message",style:{width:"95%",paddingRight:"5px",paddingBottom:"10px"},value:i,placeholder:"Write Your Message",labelPosition:"right"}),Object(a.jsx)(S.a,{icon:"smile outline",onClick:function(){m(!b)},size:"medium"}),b?Object(a.jsx)(K.a,{style:{position:"absolute",bottom:"100px",right:"20px"},onKeyPress:g,onSelect:function(e){!function(e){o(i+e.native)}(e)},emojiSize:20}):null,Object(a.jsx)(q,{uploadImage:function(e,n){var a="chat/images/".concat(J()(),".jpg");t.child(a).put(e,{contentType:n}).then((function(e){e.ref.getDownloadURL().then((function(e){p(e)}))})).catch((function(e){console.log(e)}))},open:d,onClose:function(){return j(!1)}}),Object(a.jsxs)("div",{class:"ui icon two buttons",children:[Object(a.jsx)(S.a,{icon:"send",content:"Add Reply",color:"orange",onClick:function(){p()}}),Object(a.jsx)(S.a,{icon:"upload",content:"Upload Media",color:"blue",onClick:function(){return j(!0)}})]})]})})),Y=Object(f.b)((function(e){return{channel:e.channel.currentChannel,user:e.user.currentUser,favouriteChannels:e.favouriteChannel.favouriteChannel}}),(function(e){return{setfavouriteChannel:function(n){return e(function(e){return{type:N,payload:{favouriteChannel:e}}}(n))},removefavouriteChannel:function(n){return e(function(e){return{type:I,payload:{favouriteChannel:e}}}(n))}}}))((function(e){var n,t,r,s=O.database().ref("messages"),i=O.database().ref("users"),o=Object(c.useState)([]),l=Object(v.a)(o,2),u=l[0],d=l[1],j=Object(c.useState)(""),h=Object(v.a)(j,2),f=h[0],b=h[1],m=Object(c.useRef)();Object(c.useEffect)((function(){if(e.channel)return d([]),s.child(e.channel.id).on("child_added",(function(e){d((function(n){var t=Object(g.a)(n);return t.push(e.val()),t}))})),function(){return s.child(e.channel.id).off()}}),[e.channel]),Object(c.useEffect)((function(){if(e.user)return i.child(e.user.uid).child("favourite").on("child_added",(function(n){e.setfavouriteChannel(n.val())})),i.child(e.user.uid).child("favourite").on("child_removed",(function(n){e.removefavouriteChannel(n.val())})),function(){return i.child(e.user.uid).child("favourite").off()}}),[e.channel]),Object(c.useEffect)((function(){m.scrollIntoView({behavior:"smooth"})}),[u]);var p=function(){m.scrollIntoView({behavior:"smooth"})},x=function(){var e=new RegExp(f,"gi");return u.reduce((function(n,t){return console.log(),(t.content&&t.content.match(e)||t.user.name.match(e))&&n.push(t),n}),[])},C=function(){var n;return Object.keys(e.favouriteChannels).includes(null===(n=e.channel)||void 0===n?void 0:n.id)};return Object(a.jsxs)("div",{className:"messages",children:[Object(a.jsx)(L,{channelDesc:null===(n=e.channel)||void 0===n?void 0:n.desc,channelName:null===(t=e.channel)||void 0===t?void 0:t.name,uniqueUser:u.reduce((function(e,n){return e.includes(n.user.name)||e.push(n.user.name),e}),[]).length,searchChange:function(e){var n=e.target;b(n.value)},isPrivatechat:null===(r=e.channel)||void 0===r?void 0:r.isPrivatechat,starChange:function(){var n=i.child(e.user.uid).child("favourite").child(e.channel.id);C()?n.remove():n.set({channelId:e.channel.id,channelName:e.channel.name})},starred:C()}),Object(a.jsx)(y.a,{className:"messagecontent",children:Object(a.jsxs)(R.a.Group,{children:[function(){var n=f?x():u;if(n.length>0)return n.map((function(n){var t,c;return Object(a.jsx)(W,{message:n,ownMessage:(null===(t=n.user)||void 0===t?void 0:t.id)===(null===(c=e.user)||void 0===c?void 0:c.uid),imgLoaded:p},n.timestamp)}))}(),Object(a.jsx)("div",{ref:function(e){return m=e}})]})}),Object(a.jsx)(X,{})]})}));t(207);var Q=function(){return Object(a.jsxs)(u.a,{columns:"equal",children:[Object(a.jsx)(T,{}),Object(a.jsx)(u.a.Column,{className:"messagepanel",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(u.a.Column,{width:3})]})},Z=(t(208),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,242)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,r=n.getLCP,s=n.getTTFB;t(e),a(e),c(e),r(e),s(e)}))}),$=t(20),ee=t(53),ne=t(84),te={currentUser:null},ae={currentChannel:null,loading:!0},ce={favouriteChannel:{}},re=Object(ne.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,n=arguments.length>1?arguments[1]:void 0;if(n.type===w){var t=n.payload;return e=Object(p.a)({},t)}return e},channel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,n=arguments.length>1?arguments[1]:void 0;if(n.type===k){var t=n.payload;return(e=Object(p.a)({},t)).loading=!1,e}return e},favouriteChannel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,n=arguments.length>1?arguments[1]:void 0;if(n.type===N){var t=n.payload.favouriteChannel,a=Object(p.a)({},e.favouriteChannel);return a[t.channelId]=t.channelName,{favouriteChannel:a}}if(n.type===I){var c=n.payload.favouriteChannel,r=Object(p.a)({},e.favouriteChannel);return delete r[c.channelId],{favouriteChannel:r}}return e}}),se=t(235),ie=function(){var e=O.database().ref("users"),n=Object(c.useState)({userName:"",email:"",password:"",confirmpassword:""}),t=Object(v.a)(n,2),r=t[0],s=t[1],i=Object(c.useState)([]),o=Object(v.a)(i,2),l=o[0],d=o[1],j=Object(c.useState)(!1),h=Object(v.a)(j,2),f=h[0],b=h[1],m=Object(c.useState)(!1),g=Object(v.a)(m,2),x=g[0],w=g[1],k=function(e){var n=e.target;s((function(e){var t=Object(p.a)({},e);return t[n.name]=n.value,t}))},N=function(){return!r.userName.length||!r.password.length||!r.confirmpassword.length||!r.email.length},I=function(){return r.password.length<8?(d((function(e){return e.concat({message:"Password length should be greater than 8"})})),!1):r.password===r.confirmpassword||(d((function(e){return e.concat({message:"Password and Confirm Password does not match"})})),!1)},P=function(e){e&&(b(!0),e.user.updateProfile({displayName:r.userName,photoURL:"http://gravatar.com/avatar/".concat(e.user.uid,"?d=identicon")}).then((function(){b(!1),E(e)})).catch((function(e){b(!1),d((function(n){return n.concat(e)}))})))},E=function(n){b(!0),e.child(n.user.uid).set({displayName:n.user.displayName,photoURL:n.user.photoURL}).then((function(){b(!1),w(!0)})).catch((function(e){b(!1),d((function(n){return n.concat(e)}))}))};return Object(a.jsx)(u.a,{verticalAlign:"top",textAlign:"center",className:"grid-form",children:Object(a.jsxs)(u.a.Column,{style:{maxWidth:"500px"},children:[Object(a.jsx)("img",{src:"Screen-Shot-2019-01-17-at-2.29.34-PM.png",alt:"logo",style:{marginTop:"50px",width:"40%"}}),Object(a.jsx)("p",{className:"p-refreshed_page__heading",children:"Create Account"}),Object(a.jsx)("p",{className:"p-refreshed_page__sub_heading",children:"We suggest using the email address you use at work."}),Object(a.jsxs)(C.a,{onSubmit:function(e){d((function(){return[]})),w(!1),(N()?(d((function(e){return e.concat({message:"Please fill in all fields"})})),0):I())&&(b(!0),O.auth().createUserWithEmailAndPassword(r.email,r.password).then((function(e){b(!1),P(e),console.log(e)})).catch((function(e){b(!1),d((function(n){return n.concat(e)})),console.log(e)})))},children:[Object(a.jsxs)(y.a,{stacked:!0,children:[Object(a.jsx)(C.a.Input,{name:"userName",value:r.userName,icon:"user",iconPosition:"left",onChange:k,type:"text",placeholder:"User Name"}),Object(a.jsx)(C.a.Input,{name:"email",value:r.email,icon:"mail",iconPosition:"left",onChange:k,type:"email",placeholder:"User Email"}),Object(a.jsx)(C.a.Input,{name:"password",value:r.password,icon:"lock",iconPosition:"left",onChange:k,type:"password",placeholder:"User Password"}),Object(a.jsx)(C.a.Input,{name:"confirmpassword",value:r.confirmpassword,icon:"lock",iconPosition:"left",onChange:k,type:"password",placeholder:"Confirm Password"})]}),Object(a.jsx)(S.a,{disabled:f,loading:f,fluid:!0,style:{backgroundColor:"#4a154b",color:"white",fontSize:"120%"},children:"Continue"})]}),l.length>0&&Object(a.jsxs)(se.a,{error:!0,children:[Object(a.jsx)("h3",{children:"Errors"}),l.map((function(e,n){return Object(a.jsx)("p",{children:e.message},n)}))]}),x&&Object(a.jsx)(se.a,{success:!0,children:Object(a.jsx)("h3",{children:"Successfully Registered"})}),Object(a.jsxs)(se.a,{children:["Already an User? ",Object(a.jsx)(ee.b,{to:"/login",children:"Login "})]})]})})},oe=t(154),le=t.n(oe),ue=t(170),de=function(e){e.history;var n=Object(c.useState)({email:"",password:""}),t=Object(v.a)(n,2),r=t[0],s=t[1],i=Object(c.useState)(!1),o=Object(v.a)(i,2),l=o[0],d=o[1],j=Object(c.useState)([]),h=Object(v.a)(j,2),f=h[0],b=h[1],m=Object(c.useState)([]),g=Object(v.a)(m,2),x=g[0],w=g[1],k=Object(c.useCallback)(function(){var e=Object(ue.a)(le.a.mark((function e(n){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t=n.target.elements.email,e.prev=2,e.next=5,O.auth().sendPasswordResetEmail(t.value);case 5:d(!1),w((function(e){return e.concat("We have just sent you an email to change your password!")})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),d(!1),b((function(n){return n.concat(e.t0)}));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}());return Object(a.jsx)(u.a,{verticalAlign:"top",textAlign:"center",className:"grid-form",children:Object(a.jsxs)(u.a.Column,{style:{maxWidth:"500px"},children:[Object(a.jsx)("img",{src:"Screen-Shot-2019-01-17-at-2.29.34-PM.png",alt:"logo",style:{marginTop:"50px",width:"40%"}}),Object(a.jsx)("p",{className:"p-refreshed_page__heading",children:"Forgot Passowrd"}),Object(a.jsx)("p",{className:"p-refreshed_page__sub_heading",children:"What email address are you using on Slack ?"}),Object(a.jsxs)(C.a,{onSubmit:k,children:[Object(a.jsx)(y.a,{stacked:!0,children:Object(a.jsx)(C.a.Input,{name:"email",value:r.email,icon:"mail",iconPosition:"left",onChange:function(e){var n=e.target;s((function(e){var t=Object(p.a)({},e);return t[n.name]=n.value,t}))},type:"email",placeholder:"User Email"})}),Object(a.jsx)(S.a,{disabled:l,loading:l,fluid:!0,style:{backgroundColor:"#4a154b",color:"white",fontSize:"120%"},children:"Reset My Password"})]}),f.length>0&&Object(a.jsxs)(se.a,{error:!0,children:[Object(a.jsx)("h3",{children:"Errors"}),f.map((function(e,n){return Object(a.jsx)("p",{children:e.message},n)}))]}),x.length>0&&Object(a.jsxs)(se.a,{success:!0,children:[Object(a.jsx)("h3",{children:"Success"}),x.map((function(e,n){return Object(a.jsx)("p",{children:e},n)}))]}),Object(a.jsxs)(se.a,{children:["Not an User? ",Object(a.jsx)(ee.b,{to:"/register",children:"Register "})]}),Object(a.jsxs)(se.a,{children:["Already an User?  ",Object(a.jsx)(ee.b,{to:"/login",children:"Login "})]})]})})},je=function(){var e=Object(c.useState)({name:"",email:"",password:""}),n=Object(v.a)(e,2),t=n[0],r=n[1],s=Object(c.useState)(!1),i=Object(v.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)([]),j=Object(v.a)(d,2),h=j[0],f=j[1],b=function(e){var n=e.target;r((function(e){var t=Object(p.a)({},e);return t[n.name]=n.value,t}))},m=function(){return!t.password.length||!t.email.length};return Object(a.jsx)(u.a,{verticalAlign:"top",textAlign:"center",className:"grid-form",children:Object(a.jsxs)(u.a.Column,{style:{maxWidth:"500px"},children:[Object(a.jsx)("img",{src:"Screen-Shot-2019-01-17-at-2.29.34-PM.png",alt:"logo",style:{marginTop:"50px",width:"40%"}}),Object(a.jsx)("p",{className:"p-refreshed_page__heading",children:"Sign in to Slack"}),Object(a.jsx)("p",{className:"p-refreshed_page__sub_heading",children:"Continue with the Google account or email address you use to sign in."}),Object(a.jsxs)(C.a,{onSubmit:function(){f((function(){return[]})),m()&&(f((function(e){return e.concat({message:"Please fill in all fields"})})),1)||(l(!0),O.auth().signInWithEmailAndPassword(t.email,t.password).then((function(e){l(!1),console.log(e)})).catch((function(e){l(!1),f((function(n){return n.concat(e)}))})))},children:[Object(a.jsxs)(y.a,{stacked:!0,children:[Object(a.jsx)(C.a.Input,{name:"email",value:t.email,icon:"mail",iconPosition:"left",onChange:b,type:"email",placeholder:"User Email"}),Object(a.jsx)(C.a.Input,{name:"password",value:t.password,icon:"lock",iconPosition:"left",onChange:b,type:"password",placeholder:"User Password"})]}),Object(a.jsx)(S.a,{disabled:o,loading:o,fluid:!0,style:{backgroundColor:"#4a154b",color:"white",fontSize:"120%"},children:"Sign In with Email"})]}),h.length>0&&Object(a.jsxs)(se.a,{error:!0,children:[Object(a.jsx)("h3",{children:"Errors"}),h.map((function(e,n){return Object(a.jsx)("p",{children:e.message},n)}))]}),Object(a.jsxs)(se.a,{children:["Not an User? ",Object(a.jsx)(ee.b,{to:"/register",children:"Register "})]}),Object(a.jsxs)(se.a,{children:["Forgot Password? ",Object(a.jsx)(ee.b,{to:"/forgotPassword",children:"Forgot Password "})]})]})})},he=t(238),fe=t(228),be=function(e){return Object(a.jsx)(he.a,{active:e.loading,children:Object(a.jsx)(fe.a,{size:"huge",content:"Loading..."})})},Oe=Object(ne.c)(re),me=Object($.f)(Object(f.b)((function(e){return{currentUser:e.user.currentUser,loading:e.channel.loading}}),(function(e){return{setUser:function(n){e(function(e){return{type:w,payload:{currentUser:e}}}(n))}}}))((function(e){return Object(c.useEffect)((function(){O.auth().onAuthStateChanged((function(n){n?(e.setUser(n),e.history.push("/")):"/forgotpassword"===e.location.pathname?(e.setUser(null),e.history.push("/forgotpassword")):(e.setUser(null),e.history.push("/login"))}))}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(be,{loading:e.loading&&"/"===e.location.pathname}),Object(a.jsxs)($.c,{children:[Object(a.jsx)($.a,{path:"/forgotpassword",component:de}),Object(a.jsx)($.a,{path:"/login",component:je}),Object(a.jsx)($.a,{path:"/register",component:ie}),Object(a.jsx)($.a,{path:"/",component:Q})]})]})})));i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(f.a,{store:Oe,children:Object(a.jsx)(ee.a,{children:Object(a.jsx)(me,{})})})}),document.getElementById("root")),Z()},58:function(e,n,t){}},[[211,1,2]]]);
//# sourceMappingURL=main.2fd61d21.chunk.js.map